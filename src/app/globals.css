@tailwind base;
@tailwind components;
@tailwind utilities;

@layer components {
    /* 레이아웃 / 전체 배경 */
    /* 토글: 루트에만 컬러 전환 */
    .app-root {
        --theme-delay: 1500ms; /* 토글 후 지연 */
        --theme-duration: 1000ms; /* 전환 시간 */

        @apply min-h-screen bg-slate-50 text-slate-900 dark:bg-slate-950 dark:text-slate-100;

        transition-property: background-color;
        transition-duration: var(--theme-duration, 1000ms);
        transition-delay: var(--theme-delay, 0ms);
    }

    .app-container {
        @apply mx-auto max-w-4xl px-4 py-8 md:py-12;
    }

    /* 헤더 */
    .app-header {
        @apply mb-6 flex flex-col gap-3 md:mb-8 md:flex-row md:items-end md:justify-between;
    }

    /* 제목은 상속 컬러 변화에 반응하지 않도록 트랜지션 해제 + 색 명시 */
    .app-header-title {
        @apply text-2xl font-bold tracking-tight text-slate-900 antialiased transition-colors dark:text-slate-100 md:text-3xl;
    }

    .app-header-subtitle {
        @apply mt-2 max-w-xl text-sm text-slate-500 dark:text-slate-400;
    }

    .app-header-right {
        @apply flex items-center gap-3;
    }

    /* 11 */
    /* 카드 공통 */
    .card {
        @apply rounded-xl border border-slate-200 bg-white shadow-md dark:border-slate-800 dark:bg-slate-900/70;
    }

    .card-toolbar {
        @apply mb-6 flex flex-col gap-3 px-4 py-3 md:flex-row md:items-center md:justify-between;
    }

    .card-body {
        @apply p-4;
    }

    /* 10 */
    /* 인풋 */
    .input-default {
        @apply w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm text-slate-900 outline-none focus:border-indigo-500 dark:border-slate-700 dark:bg-slate-950 dark:text-slate-100;
    }

    .input-search {
        @apply input-default pl-8 text-xs md:text-sm;
    }

    /* 버튼 */
    .btn-primary {
        @apply rounded-lg bg-indigo-600 px-4 py-2 text-sm font-medium text-white hover:bg-indigo-500 active:bg-indigo-700;
    }

    .btn-filter {
        @apply rounded-full px-3 py-1 text-xs;
    }

    .btn-filter-active {
        @apply bg-indigo-600 text-white;
    }

    /* 2 */
    .btn-filter-inactive {
        @apply bg-slate-200 text-slate-800 hover:bg-slate-300 dark:bg-slate-800 dark:text-slate-200 dark:hover:bg-slate-700;
    }

    /* 3 */
    .btn-theme-toggle {
        @apply flex min-w-[120px] items-center justify-center rounded-full border border-slate-300 bg-white px-3 py-1 text-xs text-slate-800 hover:bg-slate-100 dark:border-slate-600 dark:bg-slate-900 dark:text-slate-100 dark:hover:bg-slate-800;
    }

    /* 4 */
    .task-btn {
        @apply rounded-full border border-slate-300 px-3 py-1 text-xs text-slate-700 hover:border-indigo-500 dark:border-slate-700 dark:text-slate-200 dark:hover:border-indigo-500;
    }

    /* 5 */
    /* 상태 칩 / 배지 */
    .status-chip {
        @apply inline-flex items-center gap-1 rounded-full border border-slate-300 bg-white px-2.5 py-1 text-xs text-slate-600 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-300;
    }

    /* 6 */
    .status-chip-count {
        @apply rounded-full bg-slate-200 px-2 py-0.5 text-[10px] dark:bg-slate-700;
    }

    /* 7 */
    .status-badge {
        @apply inline-flex rounded-full border px-3 py-1 text-[10px] font-medium;
    }

    .status-badge-todo {
        @apply border-slate-400 bg-slate-200 text-slate-800 dark:border-slate-600 dark:bg-slate-800 dark:text-slate-100;
    }

    .status-badge-in-progress {
        @apply border-indigo-400 bg-indigo-100 text-indigo-800 dark:border-indigo-500/70 dark:bg-indigo-900/70 dark:text-indigo-200;
    }

    .status-badge-done {
        @apply border-emerald-400 bg-emerald-100 text-emerald-800 dark:border-emerald-500/60 dark:bg-emerald-900/60 dark:text-emerald-200;
    }

    /* 8 */
    /* 태스크 카드 / 빈 상태 */
    .task-card {
        @apply flex gap-3 rounded-xl border border-slate-200 bg-white p-4 text-sm dark:border-slate-800 dark:bg-slate-900/70;
    }

    .empty-state {
        @apply rounded-xl border border-dashed border-slate-300 bg-white px-4 py-8 text-center text-base text-slate-500 dark:border-slate-700 dark:bg-slate-900/40 dark:text-slate-400;
    }

    /* 9 */
    .tag-badge {
        @apply rounded-full bg-indigo-100 px-2 py-0.5 text-[10px] text-indigo-700 dark:bg-indigo-900/60 dark:text-indigo-300;
    }
}

@layer utilities {
    .app-root :where(*) {
        transition-property: color, background-color, border-color, fill, stroke;
        transition-duration: 150ms; /* 필요 시 100~200ms */
        transition-delay: 0ms;
    }

    .theme-sync {
        transition-property: color, fill, stroke !important;
        transition-duration: var(--theme-duration, 1000ms) !important;
        transition-delay: var(--theme-delay, 0ms) !important;
    }

    .no-transition {
        transition: none !important;
    }
}
