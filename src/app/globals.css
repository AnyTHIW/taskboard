@tailwind base;
@tailwind components;
@tailwind utilities;

@layer components {
    /* ì „ì²´ ë ˆì´ì•„ì›ƒ */
    .app-root {
        --theme-delay: 1500ms;
        --theme-duration: 1000ms;

        --light-on-delay: 1500ms;
        --light-on-duration: 1500ms;

        @apply min-h-screen bg-slate-50 text-slate-900 dark:bg-slate-950 dark:text-slate-100;

        transition-property: background-color;
        transition-duration: var(--theme-duration, 0ms);
        transition-delay: var(--theme-delay, 0ms);
    }

    .app-container {
        @apply mx-auto max-w-4xl px-4 py-8 md:py-12;
    }

    /* í—¤ë” */
    .app-header {
        @apply mb-6 flex flex-col gap-3 md:mb-8 md:flex-row md:items-end md:justify-between;
    }

    .app-header-title {
        @apply text-2xl font-bold tracking-tight text-slate-900 dark:text-slate-100 md:text-3xl;
    }

    .app-header-subtitle {
        @apply mt-2 max-w-xl text-sm text-slate-500 dark:text-slate-400;
    }

    /* ì¹´ë“œ ê³µí†µ */
    .card {
        @apply rounded-xl border border-slate-200 bg-white shadow-md dark:border-slate-800 dark:bg-slate-900/70;
    }

    .card-toolbar {
        @apply mb-6 flex flex-col gap-3 px-4 py-3 md:flex-row md:items-center md:justify-between;
    }

    /* ì¸í’‹ */
    .input-default {
        @apply w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm text-slate-900 outline-none focus:border-indigo-500 dark:border-slate-700 dark:bg-slate-950 dark:text-slate-100;
    }

    .input-search {
        @apply input-default pl-8 text-xs md:text-sm;
    }

    /* ë²„íŠ¼ */
    .btn-primary {
        @apply rounded-lg bg-indigo-600 px-4 py-2 text-sm font-medium text-white hover:bg-indigo-500 active:bg-indigo-700;
    }

    .btn-theme-toggle {
        @apply flex min-w-[30px] items-center justify-center rounded-full border border-slate-300 bg-white px-3 py-1 text-xs text-slate-800 hover:bg-slate-100 dark:border-slate-600 dark:bg-slate-900 dark:text-slate-100 dark:hover:bg-slate-800;

        margin-top: -1rem; /* ğŸ”¥ ìœ„ë¡œ ì‚´ì§ ëŒì–´ì˜¬ë¦¬ê¸° (ê²¹ì¹˜ê²Œ) */
        position: relative;
        z-index: 2; /* ğŸ”¥ ë¶ˆë¹›ë³´ë‹¤ í•­ìƒ ìœ„ì— ì˜¤ë„ë¡ */
    }

    /* í•„í„° ë²„íŠ¼ */
    .btn-filter {
        @apply rounded-full px-3 py-1 text-xs;
    }

    .btn-filter-active {
        @apply bg-indigo-600 text-white;
    }

    .btn-filter-inactive {
        @apply bg-slate-200 text-slate-800 hover:bg-slate-300 dark:bg-slate-800 dark:text-slate-200 dark:hover:bg-slate-700;
    }

    /* íƒœìŠ¤í¬ ìƒíƒœ ë³€ê²½ ë²„íŠ¼ */
    .task-btn {
        @apply rounded-full border border-slate-300 px-3 py-1 text-xs text-slate-700 hover:border-indigo-500 dark:border-slate-700 dark:text-slate-200 dark:hover:border-indigo-500;
    }

    /* ìƒíƒœ ì¹© / ë°°ì§€ (ìƒë‹¨ ìš”ì•½ ì¹©) */
    .status-chip {
        @apply inline-flex items-center gap-1 rounded-full border border-slate-300 bg-white px-2.5 py-1 text-xs text-slate-600 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-300;
    }

    .status-chip-count {
        @apply rounded-full bg-slate-200 px-2 py-0.5 text-[10px] dark:bg-slate-700;
    }

    /* ê° Taskì˜ ìƒíƒœ ë±ƒì§€ (í•  ì¼ / ì§„í–‰ ì¤‘ / ì™„ë£Œ) */
    .status-badge {
        @apply inline-flex rounded-full border px-3 py-1 text-[10px] font-medium;
    }

    .status-badge-todo {
        @apply border-slate-400 bg-slate-200 text-slate-800 dark:border-slate-600 dark:bg-slate-800 dark:text-slate-100;
    }

    .status-badge-in-progress {
        @apply border-indigo-400 bg-indigo-100 text-indigo-800 dark:border-indigo-500/70 dark:bg-indigo-900/70 dark:text-indigo-200;
    }

    .status-badge-done {
        @apply border-emerald-400 bg-emerald-100 text-emerald-800 dark:border-emerald-500/60 dark:bg-emerald-900/60 dark:text-emerald-200;
    }

    .task-card {
        @apply flex gap-3 rounded-xl border border-slate-200 bg-white p-4 text-sm dark:border-slate-800 dark:bg-slate-900/70;
    }

    .empty-state {
        @apply rounded-xl border border-dashed border-slate-300 bg-white px-4 py-8 text-center text-base text-slate-500 dark:border-slate-700 dark:bg-slate-900/40 dark:text-slate-400;
    }

    .tag-badge {
        @apply rounded-full bg-indigo-100 px-2 py-0.5 text-[10px] text-indigo-700 dark:bg-indigo-900/60 dark:text-indigo-300;
    }

    /* ğŸ”¥ ë¶ˆë¹› (íŒ¬ ë¼ì´íŠ¸) */
    .light-source {
        @apply relative inline-block;
        width: 2.5rem; /* ëŒ€ëµ 40px */
        height: 5rem;
        overflow: visible;
        z-index: 0;
    }

    .light-source::after {
        content: '';
        position: absolute;
        left: 50%;
        top: -80%;

        width: 400%;
        height: 180%;
        pointer-events: none;
        z-index: 1;

        /* ë¶€ì±„ ì†ì¡ì´(ì•„ë˜ ì¤‘ì•™) ê¸°ì¤€ */
        transform-origin: 50% 100%;

        /* ğŸ‘‰ ë¼ì´íŠ¸(ê¸°ë³¸) ìƒíƒœ: ê±°ì˜ ì ‘íŒ ìƒíƒœ */
        transform: translateX(-50%) translateY(-4px) scaleX(0.05) scaleY(1);
        opacity: 0;

        clip-path: polygon(50% -20%, 100% 100%, 0% 100%);

        background: radial-gradient(
            ellipse at 50% 20%,
            rgba(255, 233, 150, 0.95) 0%,
            rgba(255, 204, 80, 0.45) 35%,
            rgba(255, 204, 80, 0.12) 60%,
            transparent 70%
        );

        filter: drop-shadow(0 0 0 rgba(0, 0, 0, 0));

        /* ğŸ” ì—¬ê¸°ì„œë¶€í„° transitionìœ¼ë¡œë§Œ ì²˜ë¦¬ */
        transition-property: opacity, transform, filter;
        transition-duration: var(--light-on-duration, 0ms);
        transition-timing-function: cubic-bezier(0.25, 0.8, 0.3, 1);
        transition-delay: var(--light-on-delay, 0ms);
    }

    /* ë‹¤í¬ ëª¨ë“œ ê³ ì • ìƒíƒœ */
    .dark .light-source::after {
        opacity: 1;
        transform: translateX(-50%) translateY(-4px) scaleX(1) scaleY(1);
        filter: drop-shadow(0 6px 12px rgba(255, 210, 120, 0.4));
    }
}

@layer utilities {
    .app-root :where(*) {
        transition-property: color, background-color, border-color, fill, stroke;
        transition-duration: 150ms;
        transition-delay: 0ms;
    }
}
